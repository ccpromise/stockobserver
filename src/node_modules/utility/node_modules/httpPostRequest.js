

const config = require('config');
const request = require('utility').request;

/**
 * template of sending http post request.
 */
module.exports = function(req) {
    var opt = {
        host: req.host || config.dispatcherHost,
        port: req.port || config.dispatcherPort,
        path: req.path || '/',
        method: 'POST',
        data: JSON.stringify(req.data),
        headers: {
            'content-type': 'application/json',
        }
    }
    if(req.headers)
        Object.keys(req.headers).forEach((key) => {
            opt.headers[key] = req.headers[key];
        })
    return request(opt);
}
