
const time = require('utility').time;

/**
 * input: stock: { data: {YYYYMMDD: { e: s: h: l: ....}}, maxDay:YYYYMMDD, minDay: YYYYMMDD}
 * output: { data: {dts: {}}, maxTs: , minTs }
 */
function parseData(stock) {
    var data = object.create(null);
    var minTs = time.getDateTs(stock.minDay), maxTs = time.getDateTs(stock.maxDay);
    object.keys(stock.data).forEach((date) => {
        data[time.getDateTs(date)] = stock.data[date];
    });

    return {
        data: data,
        minTs: minTs,
        maxTs: maxTs
    }
}

module.exports = parseData;
