
var dbs = require('../dispatcher/node_modules/handlers');
var taskCol = dbs.task.db.taskCol;
var simulateCol = dbs.simulate.db.simulateCol;
var rtSimulateCol = dbs.simulate.db.rtSimulateCol;
var simdateCol = dbs.simulate.db.simdateCol;
var syslogCol = dbs.system.db.syslogCol;
var tradeCol = dbs.trade.db.tradeplanCol;
var ObjectId = require('mongodb').ObjectId;

var plans = require('tradePlans');
var list = plans.list;

// tradeCol.find({}).then((r) => {
//     console.log(r);
//     return tradeCol.remove({}).then(() => {
//         return Promise.all(list.map((id) => {
//             return tradeCol.insert(plans[id]);
//         })).then(() => {
//             tradeCol.find({}).then((r) => console.log(r));
//         })
//     })
// })

Promise.all([syslogCol.find({}), taskCol.find({status:4}), rtSimulateCol.find({}), simulateCol.find({})]).then((arr) => {
console.log(arr[1]);

});


//taskCol.find({}).then(console.log);
